<div fxLayout="row" fxLayoutAlign="center center" style="height: 100%;">
  <mat-card class="registerCard" style="min-height: 400px;" [ngStyle]="{
    'min-width': smallScreen ? '300px' : '450px',
    'margin-top': smallScreen ? '200px' : '0px',
    'margin-bottom': smallScreen ? '30px' : '0px'
  }">
    <div fxLayout="column" fxLayoutAlign="space-between stretch" fxLayoutGap="30px" *ngIf="!loading; else loadingTemplate">
      <div>
        <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="center center" color="primary">
          Stwórz konto
        </mat-toolbar>
      </div>
      <form [formGroup]="registrationForm" (submit)="onSubmit()" fxLayout="column" fxLayoutAlign="space-between center" fxLayoutGap="35px">
        <mat-form-field style="min-width: 80%;" [@shake]="emailState">
          <input matInput placeholder="Email" type="email" formControlName="email">
          <mat-error *ngIf="registrationForm.get('email').invalid">
            {{ emailError() }}
          </mat-error>
        </mat-form-field>
        <mat-form-field style="min-width: 80%;" [@shake]="passwordState">
          <input matInput type="password" placeholder="Hasło" formControlName="password">
          <mat-error *ngIf="registrationForm.get('password').invalid">
            {{ passwordError() }}
          </mat-error>
        </mat-form-field>
        <mat-form-field style="min-width: 80%;" [@shake]="repeatPasswordState">
          <input matInput type="password" placeholder="Potwierdź hasło" formControlName="repeatPassword">
          <mat-error *ngIf="registrationForm.get('repeatPassword').invalid">
            {{ repeatPasswordError() }}
          </mat-error>
        </mat-form-field>
        <mat-form-field style="min-width: 80%;" [@shake]="steamIdState">
          <input matInput placeholder="SteamID" formControlName="steamId">
          <mat-error *ngIf="registrationForm.get('steamId').invalid">
            {{ steamIdError() }}
          </mat-error>
        </mat-form-field>
        <button mat-raised-button color="primary" style="min-width: 80%;">
          Stwórz konto
        </button>
      </form>
    </div>
    <ng-template #loadingTemplate>
      <div fxLayout="column" fxLayoutAlign="center center" style="position: absolute; height: 100%; width: 100%;">
        <mat-spinner></mat-spinner>
      </div>
    </ng-template>
  </mat-card>
</div>