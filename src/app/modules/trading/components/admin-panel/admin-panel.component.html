<div fxLayout="row" fxLayoutAlign="center center" style="height: 100%">
  <mat-card class="addItemCard" style="min-height: 400px;" [ngStyle]="{
      'min-width': smallScreen ? '300px' : '450px',
      'margin-top': smallScreen ? '200px' : '0px',
      'margin-bottom': smallScreen ? '30px' : '0px'
    }">
    <div fxLayout="column" fxLayoutAlign="space-between stretch" fxLayoutGap="30px" *ngIf="!loading; else loadingTemplate">
      <div>
        <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="center center" color="primary">
          Dodaj przedmiot
        </mat-toolbar>
      </div>
      <form [formGroup]="addItemForm" (submit)="onSubmit()" fxLayout="column" fxLayoutAlign="space-between stretch" fxLayoutGap="35px" style="padding: 20px">
        <mat-form-field style="min-width: 80%;" [@shake]="itemNameState">
          <input matInput placeholder="Nazwa przedmiotu" formControlName="itemName">
          <mat-error *ngIf="addItemForm.get('itemName').invalid">
            {{ itemNameError() }}
          </mat-error>
        </mat-form-field>
        <div style="min-width: 80%;" [@shake]="itemImageState">
          <button mat-raised-button color="primary" type="input" (click)="fileInput.click(); prevent($event)">
            Dodaj obraz
          </button>
          <input #fileInput type="file" (change)="itemChanged($event);" style="display:none;" accept="image/jpeg, image/png" />
          <mat-error style="margin-top: 15px;" *ngIf="addItemForm.get('itemImage').invalid && imageButtonWasClicked">
            {{ itemImageError() }}
          </mat-error>
        </div>
        <img *ngIf="imageBase64" [src]="imageBase64" style="max-width: 150px;">
        <mat-checkbox matInput formControlName="canBePainted">Może być kolorowany</mat-checkbox>
        <mat-checkbox matInput formControlName="canBeCertified">Może być certyfikowany</mat-checkbox>
        <button mat-raised-button color="primary" style="min-width: 80%;">
          Dodaj przedmiot
        </button>
      </form>
    </div>
    <ng-template #loadingTemplate>
      <div fxLayout="column" fxLayoutAlign="center center" style="position: absolute; height: 100%; width: 100%;">
        <mat-spinner></mat-spinner>
      </div>
    </ng-template>
  </mat-card>

</div>>